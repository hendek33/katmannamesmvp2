@tailwind base;
@tailwind components;
@tailwind utilities;

/* LIGHT MODE */
:root {
  --button-outline: rgba(0,0,0, .10);
  --badge-outline: rgba(0,0,0, .05);

  /* Automatic computation of border around primary / danger buttons */
  --opaque-button-border-intensity: -8; /* In terms of percentages */

  /* Backgrounds applied on top of other backgrounds when hovered/active */
  --elevate-1: rgba(0,0,0, .03);
  --elevate-2: rgba(0,0,0, .08);

  --background: 220 5% 96%;

  --foreground: 220 8% 12%;

  --border: 220 6% 88%;

  --card: 220 5% 94%;

  --card-foreground: 220 8% 14%;

  --card-border: 220 6% 86%;

  --sidebar: 220 5% 92%;

  --sidebar-foreground: 220 8% 16%;

  --sidebar-border: 220 6% 84%;

  --sidebar-primary: 210 85% 42%;

  --sidebar-primary-foreground: 210 15% 98%;

  --sidebar-accent: 220 8% 88%;

  --sidebar-accent-foreground: 220 8% 18%;

  --sidebar-ring: 210 85% 42%;

  --popover: 220 6% 90%;

  --popover-foreground: 220 8% 18%;

  --popover-border: 220 6% 82%;

  --primary: 210 85% 42%;

  --primary-foreground: 210 15% 98%;

  --secondary: 220 8% 86%;

  --secondary-foreground: 220 8% 20%;

  --muted: 220 10% 88%;

  --muted-foreground: 220 8% 38%;

  --accent: 195 65% 88%;

  --accent-foreground: 195 45% 22%;

  --destructive: 0 72% 38%;

  --destructive-foreground: 0 15% 98%;

  --input: 220 12% 72%;
  --ring: 210 85% 42%;
  --chart-1: 210 85% 38%;
  --chart-2: 195 70% 35%;
  --chart-3: 175 65% 32%;
  --chart-4: 160 60% 30%;
  --chart-5: 145 55% 28%;

  --font-sans: Poppins, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Menlo, monospace;
  --radius: .5rem; /* 8px */
  --shadow-2xs: 0px 2px 0px 0px hsl(220 8% 20% / 0.02);
  --shadow-xs: 0px 2px 0px 0px hsl(220 8% 20% / 0.03);
  --shadow-sm: 0px 2px 0px 0px hsl(220 8% 20% / 0.04), 0px 1px 2px -1px hsl(220 8% 20% / 0.06);
  --shadow: 0px 2px 0px 0px hsl(220 8% 20% / 0.04), 0px 1px 2px -1px hsl(220 8% 20% / 0.07);
  --shadow-md: 0px 2px 0px 0px hsl(220 8% 20% / 0.05), 0px 2px 4px -1px hsl(220 8% 20% / 0.08);
  --shadow-lg: 0px 2px 0px 0px hsl(220 8% 20% / 0.06), 0px 4px 6px -1px hsl(220 8% 20% / 0.10);
  --shadow-xl: 0px 2px 0px 0px hsl(220 8% 20% / 0.07), 0px 8px 10px -1px hsl(220 8% 20% / 0.12);
  --shadow-2xl: 0px 2px 0px 0px hsl(220 8% 20% / 0.10);
  --tracking-normal: 0em;
  --spacing: 0.25rem;

  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */

  /* Fallback for older browsers */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --primary-border: hsl(var(--primary));
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --secondary-border: hsl(var(--secondary));
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --muted-border: hsl(var(--muted));
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --accent-border: hsl(var(--accent));
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --destructive-border: hsl(var(--destructive));
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

.dark {
  --button-outline: rgba(255,255,255, .10);
  --badge-outline: rgba(255,255,255, .05);

  --opaque-button-border-intensity: 9;  /* In terms of percentages */

  /* Backgrounds applied on top of other backgrounds when hovered/active */
  --elevate-1: rgba(255,255,255, .04);
  --elevate-2: rgba(255,255,255, .09);

  --background: 230 25% 8%;

  --foreground: 230 8% 94%;

  --border: 230 15% 15%;

  --card: 230 20% 11%;

  --card-foreground: 230 8% 92%;

  --card-border: 230 18% 18%;

  --sidebar: 222 15% 15%;

  --sidebar-foreground: 222 6% 88%;

  --sidebar-border: 222 14% 22%;

  --sidebar-primary: 210 90% 48%;

  --sidebar-primary-foreground: 210 10% 98%;

  --sidebar-accent: 222 12% 18%;

  --sidebar-accent-foreground: 222 6% 86%;

  --sidebar-ring: 210 90% 48%;

  --popover: 222 14% 17%;

  --popover-foreground: 222 6% 86%;

  --popover-border: 222 12% 24%;

  --primary: 210 90% 48%;

  --primary-foreground: 210 10% 98%;

  --secondary: 222 12% 20%;

  --secondary-foreground: 222 6% 84%;

  --muted: 222 10% 19%;

  --muted-foreground: 222 6% 62%;

  --accent: 195 55% 22%;

  --accent-foreground: 195 20% 86%;

  --destructive: 0 68% 35%;

  --destructive-foreground: 0 10% 98%;

  --input: 222 18% 32%;
  --ring: 210 90% 48%;
  --chart-1: 195 85% 65%;
  --chart-2: 180 75% 58%;
  --chart-3: 165 70% 52%;
  --chart-4: 150 65% 48%;
  --chart-5: 135 60% 45%;

  --shadow-2xs: 0px 2px 0px 0px hsl(222 18% 5% / 0.15);
  --shadow-xs: 0px 2px 0px 0px hsl(222 18% 5% / 0.20);
  --shadow-sm: 0px 2px 0px 0px hsl(222 18% 5% / 0.25), 0px 1px 2px -1px hsl(222 18% 5% / 0.30);
  --shadow: 0px 2px 0px 0px hsl(222 18% 5% / 0.25), 0px 1px 2px -1px hsl(222 18% 5% / 0.35);
  --shadow-md: 0px 2px 0px 0px hsl(222 18% 5% / 0.30), 0px 2px 4px -1px hsl(222 18% 5% / 0.40);
  --shadow-lg: 0px 2px 0px 0px hsl(222 18% 5% / 0.35), 0px 4px 6px -1px hsl(222 18% 5% / 0.45);
  --shadow-xl: 0px 2px 0px 0px hsl(222 18% 5% / 0.40), 0px 8px 10px -1px hsl(222 18% 5% / 0.50);
  --shadow-2xl: 0px 2px 0px 0px hsl(222 18% 5% / 0.50);

  /* Fallback for older browsers */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --primary-border: hsl(var(--primary));
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --secondary-border: hsl(var(--secondary));
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --muted-border: hsl(var(--muted));
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --accent-border: hsl(var(--accent));
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --destructive-border: hsl(var(--destructive));
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    overflow-x: hidden;
  }
  
  html {
    overflow-x: hidden;
  }
}

/* Pop animation for vote badges */
@keyframes popIn {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes popOut {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(0);
    opacity: 0;
  }
}

.animate-pop-in {
  animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

.animate-pop-out {
  animation: popOut 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

/* Fade in animation */
@keyframes fadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

.animate-fadeIn {
  animation: fadeIn 0.5s ease-in-out forwards;
}

/* Custom Scrollbar Styles */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.4);
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, #123c6b, #711d1c);
  border-radius: 4px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, #1a4d8a, #8a2322);
}

/* Firefox scrollbar */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #123c6b rgba(0, 0, 0, 0.4);
}

/* Slide in with bounce animation for winner notification */
@keyframes slideInBounce {
  0% {
    transform: translateY(-50px);
    opacity: 0;
  }
  70% {
    transform: translateY(5px);
    opacity: 1;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Slide out with fade animation */
@keyframes slideOutFade {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) scale(0.8);
    opacity: 0;
  }
}

/* Confetti animation */
@keyframes confetti {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(200px) rotate(720deg);
    opacity: 0;
  }
}

.animate-confetti {
  animation: confetti linear infinite;
}

/* Assassin card reveal animation */
@keyframes assassinReveal {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
  }
  100% {
    transform: scale(1.1);
  }
}

.animate-assassin-reveal {
  animation: assassinReveal 2s ease-out forwards;
  border-color: #000000 !important;
  box-shadow: 0 0 60px rgba(0,0,0,0.9), 0 0 120px rgba(0,0,0,0.6) !important;
}

/* Assassin particle animation */
@keyframes assassinParticle {
  0% {
    transform: translate(0, 0) scale(0);
    opacity: 1;
  }
  50% {
    transform: translate(var(--particle-x), var(--particle-y)) scale(1.5);
    opacity: 0.8;
  }
  100% {
    transform: translate(calc(var(--particle-x) * 2), calc(var(--particle-y) * 2)) scale(0);
    opacity: 0;
  }
}

.animate-assassin-particle {
  animation: assassinParticle 2s ease-out forwards;
}

/* Turn video animations */
@keyframes zoomInRotate {
  0% {
    transform: scale(0) rotate(-180deg);
    opacity: 0;
  }
  50% {
    transform: scale(1.1) rotate(-90deg);
    opacity: 1;
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

@keyframes zoomOutRotate {
  0% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: scale(1.1) rotate(90deg);
    opacity: 1;
  }
  100% {
    transform: scale(0) rotate(180deg);
    opacity: 0;
  }
}

@keyframes fadeOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes slideOutLeft {
  0% {
    transform: translateX(0);
    opacity: 1;
  }
  100% {
    transform: translateX(-100vw);
    opacity: 0;
  }
}

@keyframes flash {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes expandFromPoint {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 0;
  }
  100% {
    transform: scale(1) rotate(360deg);
    opacity: 1;
  }
}

.animate-prophet-particle {
  animation: prophet-particle 3s linear infinite;
}

@keyframes prophet-particle {
  0% {
    transform: translateY(100%) scale(0);
    opacity: 0;
  }
  20% {
    transform: translateY(80%) scale(1);
    opacity: 1;
  }
  80% {
    transform: translateY(20%) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(0) scale(0);
    opacity: 0;
  }
}

@keyframes shrinkToPoint {
  0% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: scale(0) rotate(-360deg);
    opacity: 0;
  }
}

@keyframes circleExpand {
  0% {
    clip-path: circle(0% at center);
  }
  100% {
    clip-path: circle(100% at center);
  }
}

@keyframes circleCollapse {
  0% {
    clip-path: circle(100% at center);
  }
  100% {
    clip-path: circle(0% at center);
  }
}

@keyframes slideUp {
  0% {
    transform: translateX(-50%) translateY(50px);
    opacity: 0;
  }
  100% {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
  }
}

@keyframes slideDown {
  0% {
    transform: translateX(-50%) translateY(-50px);
    opacity: 0;
  }
  100% {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
  }
}

@keyframes floatParticle {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% {
    transform: translate(
      calc(cos(var(--particle-angle)) * var(--particle-distance)),
      calc(sin(var(--particle-angle)) * var(--particle-distance))
    ) scale(0);
    opacity: 0;
  }
}

/* Letter drop animation - falling from above */
@keyframes letterDrop {
  0% {
    opacity: 0;
    transform: translateY(-40px) scale(0.8);
  }
  40% {
    opacity: 1;
    transform: translateY(5px) scale(1.1);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Letter appear animation */
@keyframes letterAppear {
  0% {
    opacity: 0;
    transform: translateY(-20px) scale(0.5);
  }
  50% {
    transform: translateY(0) scale(1.1);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Clue appear animation */
@keyframes clueAppear {
  0% {
    opacity: 0;
    transform: scale(0) rotate(-180deg);
  }
  50% {
    transform: scale(1.1) rotate(10deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

.animate-clue-appear {
  animation: clueAppear 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

/* Clue slide from center animation */
@keyframes clueSlideFromCenter {
  0% {
    opacity: 0;
    transform: translateY(-350px) scale(0) rotate(-180deg);
  }
  15% {
    opacity: 1;
    transform: translateY(-350px) scale(1.5) rotate(10deg);
  }
  25% {
    transform: translateY(-350px) scale(1.3) rotate(-5deg);
  }
  35% {
    transform: translateY(-350px) scale(1.45) rotate(5deg);
  }
  45% {
    transform: translateY(-350px) scale(1.35) rotate(-3deg);
  }
  55% {
    transform: translateY(-350px) scale(1.4) rotate(0deg);
  }
  75% {
    opacity: 1;
    transform: translateY(-350px) scale(1.4) rotate(0deg);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1) rotate(0deg);
  }
}

.animate-clue-slide-up {
  animation: clueSlideFromCenter 2.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Text glow animation */
@keyframes textGlow {
  0%, 100% {
    text-shadow: 0 0 10px rgba(251, 191, 36, 0.6),
                 0 0 20px rgba(251, 191, 36, 0.4),
                 0 0 30px rgba(251, 191, 36, 0.2);
  }
  50% {
    text-shadow: 0 0 20px rgba(251, 191, 36, 0.8),
                 0 0 30px rgba(251, 191, 36, 0.6),
                 0 0 40px rgba(251, 191, 36, 0.4);
  }
}

.animate-text-glow {
  animation: textGlow 2s ease-in-out infinite;
}

/* Slow bounce animation */
@keyframes bounceSlow {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

.animate-bounce-slow {
  animation: bounceSlow 2s ease-in-out infinite;
}

.animate-pulse-slow {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}


/* Card drop animation */
@keyframes cardDrop {
  0% {
    transform: translateY(-300%);
    opacity: 0;
  }
  60% {
    transform: translateY(10px);
    opacity: 0.9;
  }
  80% {
    transform: translateY(-5px);
    opacity: 1;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-card-drop {
  animation: cardDrop 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Card lift animation - hinge from top */
@keyframes cardLift {
  0% {
    transform: rotateX(0deg);
  }
  100% {
    transform: rotateX(45deg) translateZ(15px);
  }
}

.card-lifted {
  transform: rotateX(45deg) translateZ(15px);
  transform-origin: top center;
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.5s ease;
  transform-style: preserve-3d;
  will-change: transform;
  backface-visibility: hidden;
}

.card-not-lifted {
  transform: rotateX(0deg) translateZ(0);
  transform-origin: top center;
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.5s ease;
  transform-style: preserve-3d;
  will-change: transform;
  backface-visibility: hidden;
}

/* 3D container for card perspective */
.card-3d-container {
  perspective: 900px;
  transform-style: preserve-3d;
}

/* Card reveal pulse animation */
@keyframes pulseOnce {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

.animate-pulse-once {
  animation: pulseOnce 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/**
 * Using the elevate system.
 * Automatic contrast adjustment.
 *
 * <element className="hover-elevate" />
 * <element className="active-elevate-2" />
 *
 * // Using the tailwind utility when a data attribute is "on"
 * <element className="toggle-elevate data-[state=on]:toggle-elevated" />
 * // Or manually controlling the toggle state
 * <element className="toggle-elevate toggle-elevated" />
 *
 * Elevation systems have to handle many states.
 * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)
 * - toggled or not
 * - focused or not (this is not handled with these utilities)
 *
 * Even without handling focused or not, this is six possible combinations that
 * need to be distinguished from eachother visually.
 */
@layer utilities {

  /* Hide ugly search cancel button in Chrome until we can style it properly */
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  /* Placeholder styling for contentEditable div */
  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of
   * buttons/badges can remove the automatic brightness adjustment on interactions
   * and program their own. */
  .no-default-hover-elevate {}

  .no-default-active-elevate {}


  /**
   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.
   * This way they can stack/compound. Both will overlap the parent's borders!
   * So borders will be automatically adjusted both on toggle, and hover/active,
   * and they will be compounded.
   */
  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: -1;
    /* sits behind content but above backdrop */
  }

  .toggle-elevate.toggle-elevated::before {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.toggle-elevate::before {
    inset: -1px;
  }

  /* Does not work on elements with overflow:hidden! */
  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) {
    position: relative;
    z-index: 0;
  }

  .hover-elevate:not(.no-default-hover-elevate)::after,
  .active-elevate:not(.no-default-active-elevate)::after,
  .hover-elevate-2:not(.no-default-hover-elevate)::after,
  .active-elevate-2:not(.no-default-active-elevate)::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: 999;
    /* sits in front of content */
  }

  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-1);
  }

  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {
    inset: -1px;
  }
}

/* Card Background Textures */
.bg-metallic-dark {
  background: 
    linear-gradient(135deg, rgba(59, 130, 246, 0.1) 25%, transparent 25%),
    linear-gradient(225deg, rgba(59, 130, 246, 0.1) 25%, transparent 25%),
    linear-gradient(45deg, rgba(96, 165, 250, 0.1) 25%, transparent 25%),
    linear-gradient(315deg, rgba(96, 165, 250, 0.1) 25%, transparent 25%),
    linear-gradient(to bottom, #1e3a8a, #1e40af);
  background-size: 20px 20px, 20px 20px, 20px 20px, 20px 20px, 100% 100%;
  background-position: 0 0, 10px 0, 10px -10px, 0px 10px, 0 0;
}

.bg-neon-light {
  background: 
    radial-gradient(circle at 20% 50%, rgba(239, 68, 68, 0.2) 0%, transparent 50%),
    radial-gradient(circle at 80% 50%, rgba(220, 38, 38, 0.2) 0%, transparent 50%),
    linear-gradient(90deg, rgba(239, 68, 68, 0.15) 1px, transparent 1px),
    linear-gradient(rgba(220, 38, 38, 0.15) 1px, transparent 1px),
    linear-gradient(to bottom right, #991b1b, #b91c1c);
  background-size: 100% 100%, 100% 100%, 15px 15px, 15px 15px, 100% 100%;
}

.bg-neutral-texture {
  background: 
    repeating-linear-gradient(45deg, rgba(156, 163, 175, 0.1) 0px, rgba(156, 163, 175, 0.1) 2px, transparent 2px, transparent 4px),
    repeating-linear-gradient(-45deg, rgba(107, 114, 128, 0.1) 0px, rgba(107, 114, 128, 0.1) 2px, transparent 2px, transparent 4px),
    linear-gradient(to bottom, #374151, #4b5563);
  background-size: 10px 10px, 10px 10px, 100% 100%;
}

.bg-assassin-danger {
  background: 
    radial-gradient(circle at 50% 50%, rgba(220, 38, 38, 0.4) 0%, transparent 50%),
    linear-gradient(45deg, #450a0a 25%, transparent 25%),
    linear-gradient(-45deg, #450a0a 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #450a0a 75%),
    linear-gradient(-45deg, transparent 75%, #450a0a 75%),
    linear-gradient(to bottom, #7f1d1d, #991b1b);
  background-size: 100% 100%, 20px 20px, 20px 20px, 20px 20px, 20px 20px, 100% 100%;
  background-position: 0 0, 0 0, 0 10px, 10px -10px, 10px 0, 0 0;
}

/* Light Effects */
@keyframes light-pulse-1 {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.2); }
}

@keyframes light-pulse-2 {
  0%, 100% { opacity: 0.2; transform: scale(1) translateX(0); }
  50% { opacity: 0.5; transform: scale(1.3) translateX(-20px); }
}

@keyframes light-pulse-3 {
  0%, 100% { opacity: 0.25; transform: scale(1) translateY(0); }
  50% { opacity: 0.55; transform: scale(1.15) translateY(20px); }
}

@keyframes light-rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.light-effect {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  filter: blur(80px);
  mix-blend-mode: screen;
}

.light-1 {
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, rgba(251, 146, 60, 0.4) 0%, transparent 70%);
  top: -10%;
  left: 10%;
  animation: light-pulse-1 8s ease-in-out infinite;
}

.light-2 {
  width: 500px;
  height: 500px;
  background: radial-gradient(circle, rgba(59, 130, 246, 0.35) 0%, transparent 70%);
  top: 20%;
  right: 5%;
  animation: light-pulse-2 10s ease-in-out infinite;
}

.light-3 {
  width: 450px;
  height: 450px;
  background: radial-gradient(circle, rgba(251, 191, 36, 0.3) 0%, transparent 70%);
  bottom: 10%;
  left: 30%;
  animation: light-pulse-3 12s ease-in-out infinite;
}

.light-4 {
  width: 350px;
  height: 350px;
  background: radial-gradient(circle, rgba(96, 165, 250, 0.4) 0%, transparent 70%);
  bottom: 20%;
  right: 20%;
  animation: light-pulse-1 9s ease-in-out infinite reverse;
}

.light-5 {
  width: 600px;
  height: 600px;
  background: radial-gradient(circle, rgba(251, 146, 60, 0.25) 0%, transparent 70%);
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: light-rotate 30s linear infinite;
}

/* Particle Animations */
@keyframes float-1 { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(30vw, -40vh) rotate(180deg); } }
@keyframes float-2 { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(-25vw, 35vh) rotate(-120deg); } }
@keyframes float-3 { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(40vw, 30vh) rotate(240deg); } }
@keyframes float-4 { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(-35vw, -25vh) rotate(-180deg); } }
@keyframes float-5 { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(20vw, 45vh) rotate(90deg); } }
@keyframes float-6 { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(-30vw, -35vh) rotate(-270deg); } }
@keyframes float-7 { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(35vw, -20vh) rotate(150deg); } }
@keyframes float-8 { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(-20vw, 40vh) rotate(-90deg); } }
@keyframes float-9 { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(25vw, -30vh) rotate(200deg); } }
@keyframes float-10 { 0% { transform: translate(0, 0) rotate(0deg); } 100% { transform: translate(-40vw, 20vh) rotate(-150deg); } }

.particle {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  filter: blur(1px);
  opacity: 0.7;
  z-index: 0;
}

.particle-1 { width: 8px; height: 8px; background: rgba(251, 146, 60, 0.6); animation: float-1 8s infinite alternate ease-in-out; left: 3%; top: 12%; }
.particle-2 { width: 6px; height: 6px; background: rgba(59, 130, 246, 0.5); animation: float-2 10s infinite alternate ease-in-out; left: 7%; top: 34%; }
.particle-3 { width: 10px; height: 10px; background: rgba(251, 191, 36, 0.4); animation: float-3 11s infinite alternate ease-in-out; left: 11%; top: 56%; }
.particle-4 { width: 7px; height: 7px; background: rgba(251, 146, 60, 0.5); animation: float-4 9s infinite alternate ease-in-out; left: 15%; top: 78%; }
.particle-5 { width: 9px; height: 9px; background: rgba(96, 165, 250, 0.6); animation: float-5 12s infinite alternate ease-in-out; left: 19%; top: 23%; }
.particle-6 { width: 5px; height: 5px; background: rgba(251, 191, 36, 0.5); animation: float-6 10s infinite alternate ease-in-out; left: 23%; top: 45%; }
.particle-7 { width: 8px; height: 8px; background: rgba(251, 146, 60, 0.4); animation: float-7 9s infinite alternate ease-in-out; left: 27%; top: 67%; }
.particle-8 { width: 6px; height: 6px; background: rgba(59, 130, 246, 0.6); animation: float-8 11s infinite alternate ease-in-out; left: 31%; top: 89%; }
.particle-9 { width: 7px; height: 7px; background: rgba(251, 191, 36, 0.6); animation: float-9 10s infinite alternate ease-in-out; left: 35%; top: 14%; }
.particle-10 { width: 9px; height: 9px; background: rgba(251, 146, 60, 0.5); animation: float-10 11s infinite alternate ease-in-out; left: 39%; top: 36%; }
.particle-11 { width: 6px; height: 6px; background: rgba(96, 165, 250, 0.5); animation: float-1 9s infinite alternate ease-in-out; left: 43%; top: 58%; }
.particle-12 { width: 8px; height: 8px; background: rgba(251, 191, 36, 0.4); animation: float-2 10s infinite alternate ease-in-out; left: 47%; top: 80%; }
.particle-13 { width: 5px; height: 5px; background: rgba(251, 146, 60, 0.6); animation: float-3 12s infinite alternate ease-in-out; left: 51%; top: 25%; }
.particle-14 { width: 10px; height: 10px; background: rgba(59, 130, 246, 0.4); animation: float-4 9s infinite alternate ease-in-out; left: 55%; top: 47%; }
.particle-15 { width: 7px; height: 7px; background: rgba(251, 191, 36, 0.5); animation: float-5 11s infinite alternate ease-in-out; left: 59%; top: 69%; }
.particle-16 { width: 6px; height: 6px; background: rgba(251, 146, 60, 0.6); animation: float-6 10s infinite alternate ease-in-out; left: 63%; top: 91%; }
.particle-17 { width: 9px; height: 9px; background: rgba(96, 165, 250, 0.5); animation: float-7 11s infinite alternate ease-in-out; left: 67%; top: 18%; }
.particle-18 { width: 8px; height: 8px; background: rgba(251, 191, 36, 0.6); animation: float-8 9s infinite alternate ease-in-out; left: 71%; top: 40%; }
.particle-19 { width: 5px; height: 5px; background: rgba(251, 146, 60, 0.4); animation: float-9 10s infinite alternate ease-in-out; left: 75%; top: 62%; }
.particle-20 { width: 7px; height: 7px; background: rgba(59, 130, 246, 0.5); animation: float-10 12s infinite alternate ease-in-out; left: 79%; top: 84%; }
.particle-21 { width: 8px; height: 8px; background: rgba(251, 191, 36, 0.5); animation: float-1 9s infinite alternate ease-in-out; left: 83%; top: 29%; }
.particle-22 { width: 6px; height: 6px; background: rgba(251, 146, 60, 0.6); animation: float-2 11s infinite alternate ease-in-out; left: 87%; top: 51%; }
.particle-23 { width: 9px; height: 9px; background: rgba(96, 165, 250, 0.4); animation: float-3 10s infinite alternate ease-in-out; left: 91%; top: 73%; }
.particle-24 { width: 7px; height: 7px; background: rgba(251, 191, 36, 0.6); animation: float-4 11s infinite alternate ease-in-out; left: 95%; top: 95%; }
.particle-25 { width: 5px; height: 5px; background: rgba(59, 130, 246, 0.5); animation: float-5 10s infinite alternate ease-in-out; left: 6%; top: 22%; }
.particle-26 { width: 10px; height: 10px; background: rgba(251, 146, 60, 0.5); animation: float-6 9s infinite alternate ease-in-out; left: 10%; top: 44%; }
.particle-27 { width: 6px; height: 6px; background: rgba(251, 191, 36, 0.4); animation: float-7 12s infinite alternate ease-in-out; left: 14%; top: 66%; }
.particle-28 { width: 8px; height: 8px; background: rgba(96, 165, 250, 0.6); animation: float-8 9s infinite alternate ease-in-out; left: 18%; top: 88%; }
.particle-29 { width: 7px; height: 7px; background: rgba(251, 146, 60, 0.6); animation: float-9 11s infinite alternate ease-in-out; left: 22%; top: 16%; }
.particle-30 { width: 9px; height: 9px; background: rgba(59, 130, 246, 0.4); animation: float-10 10s infinite alternate ease-in-out; left: 26%; top: 38%; }
.particle-31 { width: 5px; height: 5px; background: rgba(251, 191, 36, 0.5); animation: float-1 9s infinite alternate ease-in-out; left: 30%; top: 60%; }
.particle-32 { width: 8px; height: 8px; background: rgba(251, 146, 60, 0.4); animation: float-2 11s infinite alternate ease-in-out; left: 34%; top: 82%; }
.particle-33 { width: 6px; height: 6px; background: rgba(96, 165, 250, 0.5); animation: float-3 10s infinite alternate ease-in-out; left: 38%; top: 27%; }
.particle-34 { width: 10px; height: 10px; background: rgba(251, 191, 36, 0.6); animation: float-4 9s infinite alternate ease-in-out; left: 42%; top: 49%; }
.particle-35 { width: 7px; height: 7px; background: rgba(59, 130, 246, 0.6); animation: float-5 11s infinite alternate ease-in-out; left: 46%; top: 71%; }
.particle-36 { width: 9px; height: 9px; background: rgba(251, 146, 60, 0.5); animation: float-6 10s infinite alternate ease-in-out; left: 50%; top: 93%; }
.particle-37 { width: 5px; height: 5px; background: rgba(251, 191, 36, 0.4); animation: float-7 12s infinite alternate ease-in-out; left: 54%; top: 19%; }
.particle-38 { width: 8px; height: 8px; background: rgba(96, 165, 250, 0.6); animation: float-8 9s infinite alternate ease-in-out; left: 58%; top: 41%; }
.particle-39 { width: 6px; height: 6px; background: rgba(251, 146, 60, 0.6); animation: float-9 10s infinite alternate ease-in-out; left: 62%; top: 63%; }
.particle-40 { width: 7px; height: 7px; background: rgba(59, 130, 246, 0.5); animation: float-10 11s infinite alternate ease-in-out; left: 66%; top: 85%; }
.particle-41 { width: 8px; height: 8px; background: rgba(251, 191, 36, 0.6); animation: float-1 10s infinite alternate ease-in-out; left: 70%; top: 11%; }
.particle-42 { width: 6px; height: 6px; background: rgba(251, 146, 60, 0.5); animation: float-2 9s infinite alternate ease-in-out; left: 74%; top: 33%; }
.particle-43 { width: 9px; height: 9px; background: rgba(96, 165, 250, 0.4); animation: float-3 11s infinite alternate ease-in-out; left: 78%; top: 55%; }
.particle-44 { width: 7px; height: 7px; background: rgba(251, 191, 36, 0.5); animation: float-4 10s infinite alternate ease-in-out; left: 82%; top: 77%; }
.particle-45 { width: 5px; height: 5px; background: rgba(59, 130, 246, 0.6); animation: float-5 9s infinite alternate ease-in-out; left: 86%; top: 99%; }
.particle-46 { width: 10px; height: 10px; background: rgba(251, 146, 60, 0.4); animation: float-6 11s infinite alternate ease-in-out; left: 90%; top: 24%; }
.particle-47 { width: 6px; height: 6px; background: rgba(251, 191, 36, 0.6); animation: float-7 10s infinite alternate ease-in-out; left: 94%; top: 46%; }
.particle-48 { width: 8px; height: 8px; background: rgba(96, 165, 250, 0.5); animation: float-8 12s infinite alternate ease-in-out; left: 98%; top: 68%; }
.particle-49 { width: 7px; height: 7px; background: rgba(251, 146, 60, 0.6); animation: float-9 9s infinite alternate ease-in-out; left: 4%; top: 90%; }
.particle-50 { width: 9px; height: 9px; background: rgba(59, 130, 246, 0.5); animation: float-10 10s infinite alternate ease-in-out; left: 8%; top: 15%; }
.particle-51 { width: 5px; height: 5px; background: rgba(251, 191, 36, 0.4); animation: float-1 11s infinite alternate ease-in-out; left: 12%; top: 37%; }
.particle-52 { width: 8px; height: 8px; background: rgba(251, 146, 60, 0.5); animation: float-2 10s infinite alternate ease-in-out; left: 16%; top: 59%; }
.particle-53 { width: 6px; height: 6px; background: rgba(96, 165, 250, 0.6); animation: float-3 9s infinite alternate ease-in-out; left: 20%; top: 81%; }
.particle-54 { width: 10px; height: 10px; background: rgba(251, 191, 36, 0.5); animation: float-4 11s infinite alternate ease-in-out; left: 24%; top: 26%; }
.particle-55 { width: 7px; height: 7px; background: rgba(59, 130, 246, 0.4); animation: float-5 10s infinite alternate ease-in-out; left: 28%; top: 48%; }
.particle-56 { width: 9px; height: 9px; background: rgba(251, 146, 60, 0.6); animation: float-6 9s infinite alternate ease-in-out; left: 32%; top: 70%; }
.particle-57 { width: 5px; height: 5px; background: rgba(251, 191, 36, 0.6); animation: float-7 12s infinite alternate ease-in-out; left: 36%; top: 92%; }
.particle-58 { width: 8px; height: 8px; background: rgba(96, 165, 250, 0.5); animation: float-8 9s infinite alternate ease-in-out; left: 40%; top: 17%; }
.particle-59 { width: 6px; height: 6px; background: rgba(251, 146, 60, 0.4); animation: float-9 10s infinite alternate ease-in-out; left: 44%; top: 39%; }
.particle-60 { width: 7px; height: 7px; background: rgba(59, 130, 246, 0.6); animation: float-10 11s infinite alternate ease-in-out; left: 48%; top: 61%; }
.particle-61 { width: 8px; height: 8px; background: rgba(251, 191, 36, 0.5); animation: float-1 10s infinite alternate ease-in-out; left: 52%; top: 83%; }
.particle-62 { width: 6px; height: 6px; background: rgba(251, 146, 60, 0.6); animation: float-2 9s infinite alternate ease-in-out; left: 56%; top: 28%; }
.particle-63 { width: 9px; height: 9px; background: rgba(96, 165, 250, 0.4); animation: float-3 11s infinite alternate ease-in-out; left: 60%; top: 50%; }
.particle-64 { width: 7px; height: 7px; background: rgba(251, 191, 36, 0.6); animation: float-4 10s infinite alternate ease-in-out; left: 64%; top: 72%; }
.particle-65 { width: 5px; height: 5px; background: rgba(59, 130, 246, 0.5); animation: float-5 9s infinite alternate ease-in-out; left: 68%; top: 94%; }
.particle-66 { width: 10px; height: 10px; background: rgba(251, 146, 60, 0.5); animation: float-6 11s infinite alternate ease-in-out; left: 72%; top: 20%; }
.particle-67 { width: 6px; height: 6px; background: rgba(251, 191, 36, 0.4); animation: float-7 10s infinite alternate ease-in-out; left: 76%; top: 42%; }
.particle-68 { width: 8px; height: 8px; background: rgba(96, 165, 250, 0.6); animation: float-8 12s infinite alternate ease-in-out; left: 80%; top: 64%; }
.particle-69 { width: 7px; height: 7px; background: rgba(251, 146, 60, 0.6); animation: float-9 9s infinite alternate ease-in-out; left: 84%; top: 86%; }
.particle-70 { width: 9px; height: 9px; background: rgba(59, 130, 246, 0.4); animation: float-10 10s infinite alternate ease-in-out; left: 88%; top: 13%; }

/* Aggressive animation kill switch for restart */
.no-anim,
.no-anim * {
  transition: none !important;
  animation: none !important;
  transform: none !important;
}

/* Card Drop Animation */
@keyframes card-drop {
  from {
    transform: translateY(-100vh) scale(0.8);
    opacity: 0;
  }
  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

.animate-card-drop {
  animation: card-drop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Card Flip Reveal Animation */
@keyframes card-flip-reveal {
  0% {
    transform: rotateY(0deg) scale(1);
  }
  50% {
    transform: rotateY(90deg) scale(1.05);
  }
  100% {
    transform: rotateY(180deg) scale(1);
  }
}

.animate-card-flip {
  animation: card-flip-reveal 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  transform-style: preserve-3d;
  backface-visibility: hidden;
}

/* Card Reveal Glow Effect */
@keyframes card-reveal-glow {
  0% {
    box-shadow: 0 0 0px rgba(255, 255, 255, 0),
                0 0 0px rgba(255, 255, 255, 0),
                inset 0 0 0px rgba(255, 255, 255, 0);
  }
  50% {
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
                0 0 40px rgba(255, 255, 255, 0.6),
                inset 0 0 15px rgba(255, 255, 255, 0.3);
  }
  100% {
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.2),
                0 0 20px rgba(255, 255, 255, 0.1),
                inset 0 0 10px rgba(255, 255, 255, 0.1);
  }
}

.animate-reveal-glow {
  animation: card-reveal-glow 0.8s ease-out;
}

/* Card Shake Animation for Wrong Guess */
@keyframes card-shake {
  0%, 100% { transform: translateX(0); }
  10% { transform: translateX(-2px) rotateZ(-1deg); }
  20% { transform: translateX(2px) rotateZ(1deg); }
  30% { transform: translateX(-2px) rotateZ(-1deg); }
  40% { transform: translateX(2px) rotateZ(1deg); }
  50% { transform: translateX(0) rotateZ(0); }
}

.animate-card-shake {
  animation: card-shake 0.5s ease-in-out;
}

/* Card Success Bounce */
@keyframes card-bounce-success {
  0% { transform: scale(1); }
  30% { transform: scale(1.15); }
  60% { transform: scale(0.95); }
  100% { transform: scale(1); }
}

.animate-card-success {
  animation: card-bounce-success 0.5s ease-out;
}

/* Pulse Glow Animation for Start Button */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(0, 116, 176, 0.4),
                0 0 30px rgba(0, 116, 176, 0.3),
                0 0 40px rgba(0, 116, 176, 0.2);
  }
  50% {
    box-shadow: 0 0 30px rgba(0, 116, 176, 0.6),
                0 0 40px rgba(0, 116, 176, 0.5),
                0 0 50px rgba(0, 116, 176, 0.4);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Logo Shine Animation */
@keyframes shine {
  0% {
    transform: translateX(-100%) translateY(-100%);
  }
  100% {
    transform: translateX(100%) translateY(100%);
  }
}

.animate-shine {
  animation: shine 3s ease-in-out infinite;
  animation-delay: 2s; /* Initial delay before first shine */
}

/* Spin animation for rotating borders */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Animation delay utility */
.animation-delay-200 {
  animation-delay: 200ms;
}


@keyframes bounce-gentle {
  0%, 100% {
    transform: translateY(0);
  }
  25% {
    transform: translateY(-5px);
  }
  75% {
    transform: translateY(5px);
  }
}

.animate-bounce-gentle {
  animation: bounce-gentle 2s ease-in-out infinite;
}

/* Fade out animation for insult bubble */
@keyframes fade-out-bubble {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-15px) scale(0.9);
  }
}

.animate-fade-out {
  animation: fade-out-bubble 0.5s ease-out forwards;
}